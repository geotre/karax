<!DOCTYPE HTML>
<html lang="en-us" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using nimibook -->
        <meta charset="UTF-8">
        <title>Events - Karax documentation</title>

        <!-- Custom HTML head -->

        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="Karax is as a versatile web application framework written in Nim">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2280%22>üê≥</text></svg>">
        <link rel="stylesheet" href="../assets/css/variables.css">
        <link rel="stylesheet" href="../assets/css/general.css">
        <link rel="stylesheet" href="../assets/css/chrome.css">

        <!-- Fonts -->
        <link rel="stylesheet" href="../assets/FontAwesome/css/font-awesome.min.css">

        <!-- Highlight.js Stylesheets - I could use nimib native highlight but let's keep it for styling... -->
        <link rel="stylesheet" href="../assets/css/highlight.css">
        <link rel="stylesheet" href="../assets/css/tomorrow-night.css">
        <link rel="stylesheet" href="../assets/css/ayu-highlight.css">

        <!-- Custom theme stylesheets - why the "../"? -->


        

            <script src="https://cdn.jsdelivr.net/gh/pietroppeter/nimib@main/assets/highlight.min.js"></script>
<script>hljs.highlightAll();</script>

        
        <!-- plausible analytics (new in nimibook) -->
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "..//assets";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                                <ol class="chapter">
                <li class="chapter-item expanded ">
                  <a href="../overview.html" tabindex="0">
                      Overview
                  </a></li>
                <li class="chapter-item expanded ">
                  <a href="../installation.html" tabindex="0">
                    <strong aria-hidden="true">1.</strong> Installation
                  </a></li>
                <li class="chapter-item expanded ">
                  <a href="../quickstart.html" tabindex="0">
                    <strong aria-hidden="true">2.</strong> Quickstart
                  </a></li>
                <li class="chapter-item expanded ">
                  <a href="../running_examples.html" tabindex="0">
                    <strong aria-hidden="true">3.</strong> Running examples
                  </a></li>
                <li class="chapter-item expanded ">
                  <a href="../tutorial/index.html" tabindex="0">
                    <strong aria-hidden="true">4.</strong> Tutorial
                  </a></li>
                  <li>
                  <ol class="section">
                <li class="chapter-item expanded ">
                  <div>
                    <strong aria-hidden="true">4.1.</strong> Hello world
                  </div>
                </li>
                <li class="chapter-item expanded ">
                  <div>
                    <strong aria-hidden="true">4.2.</strong> Loading data
                  </div>
                </li>
                <li class="chapter-item expanded ">
                  <div>
                    <strong aria-hidden="true">4.3.</strong> Reacting to user input
                  </div>
                </li>
                  </ol>
                  </li>
                <li class="chapter-item expanded ">
                  <a href="../guides/index.html" tabindex="0">
                    <strong aria-hidden="true">5.</strong> Guides
                  </a></li>
                  <li>
                  <ol class="section">
                <li class="chapter-item expanded ">
                  <a href="../guides/debugging.html" tabindex="0">
                    <strong aria-hidden="true">5.1.</strong> Debugging
                  </a></li>
                <li class="chapter-item expanded ">
                  <a href="../guides/ssr.html" tabindex="0">
                    <strong aria-hidden="true">5.2.</strong> Server side rendering (SSR)
                  </a></li>
                <li class="chapter-item expanded ">
                  <div>
                    <strong aria-hidden="true">5.3.</strong> Static site generation (SSG)
                  </div>
                </li>
                <li class="chapter-item expanded ">
                  <a href="../guides/event_handlers.html" tabindex="0">
                    <strong aria-hidden="true">5.4.</strong> Event handlers
                  </a></li>
                <li class="chapter-item expanded ">
                  <a href="../guides/forms.html" tabindex="0">
                    <strong aria-hidden="true">5.5.</strong> Form validation
                  </a></li>
                <li class="chapter-item expanded ">
                  <a href="../guides/routing.html" tabindex="0">
                    <strong aria-hidden="true">5.6.</strong> Routing
                  </a></li>
                <li class="chapter-item expanded ">
                  <a href="../guides/components/index.html" tabindex="0">
                    <strong aria-hidden="true">5.7.</strong> Components
                  </a></li>
                  <li>
                  <ol class="section">
                <li class="chapter-item expanded ">
                  <div>
                    <strong aria-hidden="true">5.7.1.</strong> VComponents
                  </div>
                </li>
                <li class="chapter-item expanded ">
                  <div>
                    <strong aria-hidden="true">5.7.2.</strong> Function components
                  </div>
                </li>
                <li class="chapter-item expanded ">
                  <div>
                    <strong aria-hidden="true">5.7.3.</strong> Third party
                  </div>
                </li>
                  </ol>
                  </li>
                  </ol>
                  </li>
                <li class="chapter-item expanded ">
                  <a href="../reference/index.html" tabindex="0">
                    <strong aria-hidden="true">6.</strong> Reference
                  </a></li>
                  <li>
                  <ol class="section">
                <li class="chapter-item expanded ">
                  <div>
                    <strong aria-hidden="true">6.1.</strong> 3rd party nim libraries
                  </div>
                </li>
                <li class="chapter-item expanded ">
                  <div>
                    <strong aria-hidden="true">6.2.</strong> Interfacing with JS libraries
                  </div>
                </li>
                <li class="chapter-item expanded ">
                  <a href="../reference/karun.html" tabindex="0">
                    <strong aria-hidden="true">6.3.</strong> karun
                  </a></li>
                <li class="chapter-item expanded ">
                  <a href="../reference/performance/index.html" tabindex="0">
                    <strong aria-hidden="true">6.4.</strong> Performance
                  </a></li>
                  <li>
                  <ol class="section">
                <li class="chapter-item expanded ">
                  <a href="../reference/performance/strings.html" tabindex="0">
                    <strong aria-hidden="true">6.4.1.</strong> Strings
                  </a></li>
                  </ol>
                  </li>
                <li class="chapter-item expanded ">
                  <a href="../reference/events.html" class="active" tabindex="0">
                    <strong aria-hidden="true">6.5.</strong> Events
                  </a></li>
                <li class="chapter-item expanded ">
                  <a href="../reference/reactivity.html" tabindex="0">
                    <strong aria-hidden="true">6.6.</strong> Reactivity model
                  </a></li>
                <li class="chapter-item expanded ">
                  <div>
                    <strong aria-hidden="true">6.7.</strong> The buildHtml macro
                  </div>
                </li>
                <li class="chapter-item expanded ">
                  <a href="../reference/vdom.html" tabindex="0">
                    <strong aria-hidden="true">6.8.</strong> Dom diffing & the vdom
                  </a></li>
                <li class="chapter-item expanded ">
                  <a href="../reference/boolean_attributes.html" tabindex="0">
                    <strong aria-hidden="true">6.9.</strong> Boolean attributes
                  </a></li>
                <li class="chapter-item expanded ">
                  <a href="../reference/examples/index.html" tabindex="0">
                    <strong aria-hidden="true">6.10.</strong> Examples
                  </a></li>
                  <li>
                  <ol class="section">
                <li class="chapter-item expanded ">
                  <div>
                    <strong aria-hidden="true">6.10.1.</strong> Toy chat
                  </div>
                </li>
                <li class="chapter-item expanded ">
                  <div>
                    <strong aria-hidden="true">6.10.2.</strong> Todo app
                  </div>
                </li>
                <li class="chapter-item expanded ">
                  <div>
                    <strong aria-hidden="true">6.10.3.</strong> Ajax
                  </div>
                </li>
                <li class="chapter-item expanded ">
                  <div>
                    <strong aria-hidden="true">6.10.4.</strong> Carousel
                  </div>
                </li>
                <li class="chapter-item expanded ">
                  <div>
                    <strong aria-hidden="true">6.10.5.</strong> Media player
                  </div>
                </li>
                <li class="chapter-item expanded ">
                  <div>
                    <strong aria-hidden="true">6.10.6.</strong> Kanban
                  </div>
                </li>
                  </ol>
                  </li>
                <li class="chapter-item expanded ">
                  <a href="../reference/api/index.html" tabindex="0">
                    <strong aria-hidden="true">6.11.</strong> API
                  </a></li>
                  <li>
                  <ol class="section">
                <li class="chapter-item expanded ">
                  <a href="../reference/api/autocomplete.html" tabindex="0">
                      autocomplete
                  </a></li>
                <li class="chapter-item expanded ">
                  <a href="../reference/api/compact.html" tabindex="0">
                      compact
                  </a></li>
                <li class="chapter-item expanded ">
                  <a href="../reference/api/errors.html" tabindex="0">
                      errors
                  </a></li>
                <li class="chapter-item expanded ">
                  <a href="../reference/api/i18n.html" tabindex="0">
                      i18n
                  </a></li>
                <li class="chapter-item expanded ">
                  <a href="../reference/api/jdict.html" tabindex="0">
                      jdict
                  </a></li>
                <li class="chapter-item expanded ">
                  <a href="../reference/api/jjson.html" tabindex="0">
                      jjson
                  </a></li>
                <li class="chapter-item expanded ">
                  <a href="../reference/api/jstrutils.html" tabindex="0">
                      jstrutils
                  </a></li>
                <li class="chapter-item expanded ">
                  <a href="../reference/api/karaxdsl.html" tabindex="0">
                      karaxdsl
                  </a></li>
                <li class="chapter-item expanded ">
                  <a href="../reference/api/karax.html" tabindex="0">
                      karax
                  </a></li>
                <li class="chapter-item expanded ">
                  <a href="../reference/api/kbase.html" tabindex="0">
                      kbase
                  </a></li>
                <li class="chapter-item expanded ">
                  <a href="../reference/api/kdom.html" tabindex="0">
                      kdom
                  </a></li>
                <li class="chapter-item expanded ">
                  <a href="../reference/api/languages.html" tabindex="0">
                      languages
                  </a></li>
                <li class="chapter-item expanded ">
                  <a href="../reference/api/localstorage.html" tabindex="0">
                      localstorage
                  </a></li>
                <li class="chapter-item expanded ">
                  <a href="../reference/api/lookuptables.html" tabindex="0">
                      lookuptables
                  </a></li>
                <li class="chapter-item expanded ">
                  <a href="../reference/api/reactive.html" tabindex="0">
                      reactive
                  </a></li>
                <li class="chapter-item expanded ">
                  <a href="../reference/api/vdom.html" tabindex="0">
                      vdom
                  </a></li>
                <li class="chapter-item expanded ">
                  <a href="../reference/api/vstyles.html" tabindex="0">
                      vstyles
                  </a></li>
                </ol>
<!-- I could use also an unescaped context value -->
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                    </div>

                    <h1 class="menu-title">Karax documentation</h1>

                    <div class="right-buttons">
                        <a href="https://github.com/karaxnim/karax.git" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>

                    </div>
                </div>


                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <div style="color: #f53;border: 1px solid #f53;padding: .5em .7em;border-radius: .25em;">TODO: rewrite this page</div>
<h2>Event model</h2>
<p>Karax does not change the DOM's event model much, here is a program
that writes &quot;Hello simulated universe&quot; on a button click:</p>
<pre><code class="language-nim">
include karax / prelude
# alternatively: import karax / [kbase, vdom, kdom, vstyles, karax, karaxdsl, jdict, jstrutils, jjson]

var lines: seq[kstring] = @[]

proc createDom(): VNode =
  result = buildHtml(tdiv):
    button:
      text &quot;Say hello!&quot;
      proc onclick(ev: Event; n: VNode) =
        lines.add &quot;Hello simulated universe&quot;
    for x in lines:
      tdiv:
        text x

setRenderer createDom
</code></pre>
<p><code>kstring</code> is Karax's alias for <code>cstring</code> (which stands for &quot;compatible
string&quot;; for the JS target that is an immutable JavaScript string) which
is preferred for efficiency on the JS target. However, on the native targets
<code>kstring</code> is mapped  to <code>string</code> for efficiency. The DSL for HTML
construction is also available for the native targets (!) and the <code>kstring</code>
abstraction helps to deal with these conflicting requirements.</p>
<p>Karax's DSL is quite flexible when it comes to event handlers, so the
following syntax is also supported:</p>
<pre><code class="language-nim">
include karax / prelude
from sugar import `=&gt;`

var lines: seq[kstring] = @[]

proc createDom(): VNode =
  result = buildHtml(tdiv):
    button(onclick = () =&gt; lines.add &quot;Hello simulated universe&quot;):
      text &quot;Say hello!&quot;
    for x in lines:
      tdiv:
        text x

setRenderer createDom
</code></pre>
<p>The <code>buildHtml</code> macro produces this code for us:</p>
<pre><code class="language-nim">
let tmp2 = tree(VNodeKind.tdiv)
let tmp3 = tree(VNodeKind.button)
addEventHandler(tmp3, EventKind.onclick,
                () =&gt; lines.add &quot;Hello simulated universe&quot;, kxi)
add(tmp3, text &quot;Say hello!&quot;)
add(tmp2, tmp3)
for x in lines:
  let tmp4 = tree(VNodeKind.tdiv)
  add(tmp4, text x)
  add(tmp2, tmp4)
tmp2
</code></pre>
<p>As the examples grow larger it becomes more and more visible of what
a DSL that composes with the builtin Nim control flow constructs buys us.
Once you have tasted this power there is no going back and languages
without AST based macro system simply don't cut it anymore.</p>
                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../reference/performance/strings.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="../reference/reactivity.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../reference/performance/strings.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="../reference/reactivity.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>







        <script src="../assets/js/clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="../assets/js/book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->


    </body>
</html>
